{% load i18n %}

<fieldset>
<legend>{% trans "Test case" %}</legend>
<i id="signs-info" class="icon-warning-sign"></i> - {% trans "Test is not checked" %}
<table class="table table-striped table-bordered">
    <thead>
    <tr>
        <th>
            <label class="checkbox">
                <input type="checkbox" id="check-all-tests" /> {% trans "Main tests" %}
            </label>
        </th>
        <th>
            <label class="checkbox">
                Url
            </label>
        </th>
        <th>
            <label class="checkbox">
                <input type="checkbox" id="check-all-subtests" /> {% trans "Subtests" %}
            </label>
        </th>
    </tr>
    <tr>
        <th>
            <input type="text" id="filter-pagetest-id" placeholder=""/>
        </th>
        <th>
            <input type="text" id="filter-pagetest-url" placeholder=""/>
        </th>
        <th>
            <input type="text" id="filter-subtest-id" placeholder=""/>
        </th>
    </tr>
    </thead>
    <tbody>
    {% for test in tests %}
        <tr class="filtered-pagetest-row">
            <td>
                <label class="checkbox">
                    <input type="checkbox"
                           test_id="{{ test.id }}"
                           {% if test.checked %} checked {% endif %}
                           class="test-chk"/>
                    <a class="filtered-pagetest-id" href="{% url testing_runtime.web.tests.update_test test.id %}">#{{ test.id }} {{ test.doc }}</a>
                    {% if test.status == 'new' %}
                        <a href="#signs-info"><i class="icon-warning-sign"></i></a>
                    {% endif %}
                </label>
            </td>
            <td>
                <a class="filtered-pagetest-url" href="{{ test.url }}">{{ test.url }}</a>
            </td>
            <td>
                {% for subtest in test.subtests %}
                    <label class="checkbox">
                        <input class="subtest-chk"
                               type="checkbox"
                               {% if subtest.checked %} checked {% endif %}
                               test_id="{{ subtest.id }}">
                        <a class="filtered-subtest-id" href="{% url testing_runtime.web.tests.update_test subtest.id %}">#{{ subtest.id }} {{ subtest.doc }}</a>

                        {% if subtest.status == 'new' %}
                            <a href="#signs-info"><i class="icon-warning-sign"></i></a>
                        {% endif %}

                    </label>
                {% endfor %}
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
</fieldset>